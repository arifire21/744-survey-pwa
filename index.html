<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pit Survey</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="icon-512.png"/>
</head>
<body>
    <p id="install-prompt" style="background-color: #01a0bb; display: none;">Use this to install the app to the homescreen (only needed once)</p>
    <button id="install" hidden>Install</button>

    <br>

    <div style="text-align: center;">
        <h1>Select Survey Mode</h1>
        <a class="btn menu-btn" href="/pit_survey/pit_form.html">Pit Survey</a>
        <a class="btn menu-btn" href="/match_survey/match_form.html">Match Survey</a>
    </div>

    <script src="app.js" defer></script>

    <!-- register the main service worker -->
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/744-survey-pwa/sw.js").then(
                (registration) => {
                    console.log(`Service worker registration successful: ${registration}`);
                    alert(`Service worker registration successful: ${registration}`)
                },
                (error) => {
                    console.error(`Service worker registration failed: ${error}`);
                    alert(`Service worker registration failed: ${error}`)
                },
            );
        } else {
            console.error("Service workers are not supported.");
            alert("Service workers are not supported.")
        }
    </script>
</body>
</html>